# 小米应用商店配置

## 配置说明

小米应用商店是小米官方的应用分发平台，需要配置应用包名、开发者账号和密码。

## 配置项

```json
{
  "xiaomi": {
    "packageName": "应用包名",
    "username": "开发者账号",
    "password": "开发者密码"
  }
}
```

### 参数说明

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| packageName | string | 是 | 应用的包名，如 com.example.app |
| username | string | 是 | 小米开发者账号（手机号或邮箱）|
| password | string | 是 | 开发者账号密码 |

## 获取配置信息

### 步骤1：登录开放平台

访问 [小米开放平台](https://dev.mi.com/console/) 并登录你的开发者账号。

### 步骤2：获取应用信息

1. 登录后进入「应用管理」
2. 找到你要配置的应用
3. 查看应用详情，记录应用的 **包名**

### 步骤3：准备账号信息

使用你登录小米开放平台的账号信息：
- **账号**：手机号或邮箱
- **密码**：登录密码

## 配置示例

```json
{
  "apps": [
    {
      "name": "我的应用",
      "markets": {
        "xiaomi": {
          "packageName": "com.example.myapp",
          "username": "13800138000",
          "password": "your_password_here"
        }
      }
    }
  ]
}
```

## 注意事项

- ⚠️ **密码明文存储**：配置文件中的密码是明文存储的，请注意保护配置文件
- 包名必须与提交到小米应用商店的应用包名完全一致
- 建议创建专门的开发者子账号用于 API 调用
- 不要将包含密码的配置文件提交到公开代码仓库
- 建议使用环境变量或加密方式管理密码

## 安全建议

### 使用环境变量

不要在配置文件中直接写入密码，而是使用环境变量：

```json
{
  "xiaomi": {
    "packageName": "com.example.myapp",
    "username": "${XIAOMI_USERNAME}",
    "password": "${XIAOMI_PASSWORD}"
  }
}
```

然后在环境中设置：

```bash
export XIAOMI_USERNAME="your_username"
export XIAOMI_PASSWORD="your_password"
```

### 使用子账号

建议在小米开发者平台创建子账号，专门用于 API 调用：
1. 进入「账号管理」
2. 创建子账号
3. 分配必要的权限
4. 使用子账号的凭证进行配置

## 常见问题

### 为什么需要账号密码？

小米应用商店的审核状态查询需要通过开发者账号登录后才能获取，因此需要提供账号信息。

### 账号密码会被上传吗？

不会。账号密码仅在本地使用，用于登录小米开放平台获取审核状态，不会上传到任何服务器。

### 提示"登录失败"？

请检查：
1. 账号和密码是否正确
2. 账号是否被锁定或冻结
3. 是否开启了两步验证（需要关闭或使用应用专用密码）
4. 包名是否正确

### 支持两步验证的账号吗？

如果账号开启了两步验证，建议：
1. 关闭两步验证，或
2. 在小米账号中创建「应用专用密码」，使用该密码进行配置

### 忘记密码怎么办？

可以通过小米开放平台的「忘记密码」功能重置密码。

